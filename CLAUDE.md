# Claude Code Mailer Project - å¤šè¯­è¨€é¡¹ç›®ç®¡ç†è§„åˆ™

## é¡¹ç›®è¯­è¨€æ”¯æŒ
æœ¬é¡¹ç›®æ”¯æŒä¸‰ç§è¯­è¨€ï¼Œæ‰€æœ‰ä¿®æ”¹å¿…é¡»åŒæ­¥åˆ°æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬ï¼š

- **zh-CN** - ç®€ä½“ä¸­æ–‡
- **zh-HK** - ç¹ä½“ä¸­æ–‡ï¼ˆé¦™æ¸¯ï¼‰  
- **en** - English

## æ–‡æ¡£åŒæ­¥è§„åˆ™

### README æ–‡ä»¶
- `README.md` - è‹±æ–‡æ–‡æ¡£
- `README.zh.md` - ä¸­æ–‡æ–‡æ¡£
- ä¸¤ä¸ªæ–‡ä»¶å†…å®¹å¿…é¡»ä¿æŒåŒæ­¥ï¼Œåªæ˜¯è¯­è¨€ä¸åŒ

### æ¨¡æ¿æ–‡ä»¶åŒæ­¥
- `config/templates.zh-CN.yaml` - ç®€ä½“ä¸­æ–‡é‚®ä»¶æ¨¡æ¿
- `config/templates.zh-HK.yaml` - ç¹ä½“ä¸­æ–‡é‚®ä»¶æ¨¡æ¿
- `config/templates.en.yaml` - è‹±æ–‡é‚®ä»¶æ¨¡æ¿
- æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶ç»“æ„å¿…é¡»ä¿æŒä¸€è‡´ï¼ˆç›¸åŒçš„ events å’Œ variablesï¼‰

### é…ç½®æ–‡ä»¶åŒæ­¥
- `.env.template` - æ³¨é‡Šéœ€è¦åŒæ—¶æ”¯æŒä¸­è‹±æ–‡ç†è§£
- ç¡®ä¿æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬çš„é…ç½®é¡¹ä¸€è‡´

## ä¿®æ”¹æ£€æŸ¥æ¸…å•

åœ¨è¿›è¡Œä»»ä½•ä¿®æ”¹æ—¶ï¼Œè¯·æŒ‰ä»¥ä¸‹æ¸…å•æ£€æŸ¥ï¼š

### ğŸ“‹ æ–‡æ¡£ä¿®æ”¹
- [ ] æ›´æ–° README.md (è‹±æ–‡)
- [ ] æ›´æ–° README.zh.md (ä¸­æ–‡)
- [ ] ç¡®ä¿ä¸¤ä¸ªæ–‡æ¡£å†…å®¹ä¸€è‡´
- [ ] æ›´æ–°é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆå¦‚æœ‰æ–°å¢æ–‡ä»¶ï¼‰

### ğŸ“‹ æ¨¡æ¿ä¿®æ”¹
- [ ] ä¿®æ”¹ templates.zh-CN.yaml
- [ ] ä¿®æ”¹ templates.zh-HK.yaml
- [ ] ä¿®æ”¹ templates.en.yaml
- [ ] ç¡®ä¿æ‰€æœ‰æ¨¡æ¿ç»“æ„ä¸€è‡´
- [ ] æµ‹è¯•æ¨¡æ¿æ¸²æŸ“åŠŸèƒ½

### ğŸ“‹ é…ç½®ä¿®æ”¹
- [ ] æ›´æ–° .env.template
- [ ] æ›´æ–° README ä¸­çš„é…ç½®è¯´æ˜
- [ ] ç¡®ä¿æ³¨é‡Šæ¸…æ™°æ˜“æ‡‚

### ğŸ“‹ ä»£ç ä¿®æ”¹
- [ ] å¦‚éœ€æ”¯æŒæ–°è¯­è¨€ï¼Œæ›´æ–° mailer.js ä¸­çš„è¯­è¨€æ£€æµ‹é€»è¾‘
- [ ] æ›´æ–°ç›¸å…³æ–‡æ¡£ä¸­çš„è¯­è¨€åˆ—è¡¨
- [ ] æµ‹è¯•æ–°è¯­è¨€åŠŸèƒ½

## æ–°è¯­è¨€æ·»åŠ æµç¨‹

å¦‚éœ€æ·»åŠ æ–°è¯­è¨€æ”¯æŒï¼š

1. åˆ›å»ºæ–°çš„æ¨¡æ¿æ–‡ä»¶ `config/templates.[è¯­è¨€ä»£ç ].yaml`
2. å¤åˆ¶ç°æœ‰æ¨¡æ¿ç»“æ„å¹¶ç¿»è¯‘å†…å®¹
3. æ›´æ–° `src/mailer.js` ä¸­çš„è¯­è¨€æ”¯æŒ
4. æ›´æ–° `.env.template` ä¸­çš„è¯­è¨€é€‰é¡¹è¯´æ˜
5. æ›´æ–° `README.md` å’Œ `README.zh.md`
6. æ›´æ–°æ‰€æœ‰ç›¸å…³æ–‡æ¡£ä¸­çš„è¯­è¨€åˆ—è¡¨

## æ–‡ä»¶ç»“æ„å‚è€ƒ

```
config/
â”œâ”€â”€ templates.zh-CN.yaml  # ç®€ä½“ä¸­æ–‡æ¨¡æ¿
â”œâ”€â”€ templates.zh-HK.yaml  # ç¹ä½“ä¸­æ–‡æ¨¡æ¿
â”œâ”€â”€ templates.en.yaml      # è‹±æ–‡æ¨¡æ¿

README.md                # è‹±æ–‡æ–‡æ¡£
README.zh.md             # ä¸­æ–‡æ–‡æ¡£
.env.template            # å¤šè¯­è¨€é…ç½®æ¨¡æ¿
```

## è‡ªåŠ¨åŒ–æé†’

- æ¯æ¬¡ä¿®æ”¹æ¨¡æ¿æ—¶ï¼Œæ£€æŸ¥æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬
- æ¯æ¬¡æ›´æ–°æ–‡æ¡£æ—¶ï¼Œç¡®ä¿ä¸­è‹±æ–‡ç‰ˆæœ¬åŒæ­¥
- æ¯æ¬¡æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œè€ƒè™‘æ‰€æœ‰è¯­è¨€çš„æ”¯æŒ
- ä½¿ç”¨ `node bin/cli.js test` æµ‹è¯•æ‰€æœ‰è¯­è¨€æ¨¡æ¿

## å¸¸è§é”™è¯¯é¿å…

1. âŒ åªæ›´æ–°è‹±æ–‡æ–‡æ¡£ï¼Œå¿˜è®°æ›´æ–°ä¸­æ–‡æ–‡æ¡£
2. âŒ åªä¿®æ”¹ç®€ä½“ä¸­æ–‡æ¨¡æ¿ï¼Œå¿˜è®°ç¹ä½“ä¸­æ–‡å’Œè‹±æ–‡æ¨¡æ¿
3. âŒ æ·»åŠ æ–°åŠŸèƒ½æ—¶ï¼Œæ²¡æœ‰æ›´æ–°æ‰€æœ‰è¯­è¨€ç‰ˆæœ¬
4. âŒ ä¿®æ”¹é…ç½®è¯´æ˜æ—¶ï¼Œæ²¡æœ‰åŒæ­¥åˆ°æ‰€æœ‰æ–‡æ¡£

## è´¨é‡æ£€æŸ¥

æäº¤ä»£ç å‰ï¼Œè¯·è¿è¡Œï¼š
```bash
# æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
node bin/cli.js test

# æ£€æŸ¥æ¨¡æ¿æ˜¯å¦èƒ½æ­£å¸¸åŠ è½½
node bin/cli.js config

# éªŒè¯æ‰€æœ‰è¯­è¨€çš„æ¨¡æ¿æ–‡ä»¶
ls config/templates.*.yaml
```

## ç‰ˆæœ¬ç®¡ç†å’Œæäº¤è§„èŒƒ

### ç‰ˆæœ¬å‘å¸ƒæµç¨‹

æœ¬é¡¹ç›®ä½¿ç”¨ `tag-release.sh` è„šæœ¬è¿›è¡Œç‰ˆæœ¬å‘å¸ƒï¼Œå‘å¸ƒæµç¨‹å®Œå…¨è‡ªåŠ¨åŒ–ï¼š

#### å‘å¸ƒæ–¹æ³•
```bash
# å‘å¸ƒè¡¥ä¸ç‰ˆæœ¬ (1.0.0 -> 1.0.1)
./scripts/tag-release.sh patch

# å‘å¸ƒæ¬¡ç‰ˆæœ¬ (1.0.0 -> 1.1.0)  
./scripts/tag-release.sh minor

# å‘å¸ƒä¸»ç‰ˆæœ¬ (1.0.0 -> 2.0.0)
./scripts/tag-release.sh major
```

#### å‘å¸ƒæµç¨‹
1. **ç‰ˆæœ¬ç®¡ç†** - è‡ªåŠ¨æ›´æ–° package.json ç‰ˆæœ¬å·
2. **Git æ“ä½œ** - è‡ªåŠ¨æäº¤æ›´æ”¹å¹¶åˆ›å»º Git tag
3. **æ¨é€è¿œç¨‹** - æ¨é€ä»£ç å’Œ tag åˆ°è¿œç¨‹ä»“åº“
4. **è‡ªåŠ¨å‘å¸ƒ** - GitHub Actions è‡ªåŠ¨å‘å¸ƒåˆ° npm
5. **Release åˆ›å»º** - GitHub Actions è‡ªåŠ¨åˆ›å»º GitHub Release

#### è„šæœ¬åŠŸèƒ½
- è‡ªåŠ¨æ£€æµ‹å½“å‰åˆ†æ”¯ï¼ˆå¿…é¡»åœ¨ main åˆ†æ”¯ï¼‰
- æ£€æŸ¥å·¥ä½œç›®å½•çŠ¶æ€ï¼ˆå¿…é¡»å¹²å‡€ï¼‰
- è‡ªåŠ¨ç”Ÿæˆ Git tag message
- æ¨é€åè‡ªåŠ¨è§¦å‘ GitHub Actions å‘å¸ƒæµç¨‹

#### æ›¿ä»£æ–¹æ¡ˆï¼ˆæ‰‹åŠ¨å‘å¸ƒï¼‰
å¦‚æœéœ€è¦æ‰‹åŠ¨å‘å¸ƒï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
```bash
# æ›´æ–°ç‰ˆæœ¬
pnpm version patch/minor/major

# æ¨é€ä»£ç å’Œ tag
git push origin main
git push origin v1.x.x
```
æ¯æ¬¡å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼Œå¿…é¡»ï¼š

1. **æ›´æ–° CHANGELOG.md**
   - åœ¨å¯¹åº”ç‰ˆæœ¬å·ä¸‹æ·»åŠ è¯¦ç»†çš„ä¿®æ”¹å†…å®¹
   - ä½¿ç”¨æ ‡å‡†çš„æ ¼å¼ï¼šAdded, Changed, Fixed, Deprecated, Removed, Security
   - åŒ…å«å…·ä½“çš„ä¿®æ”¹å†…å®¹å’Œå½±å“èŒƒå›´

2. **ç‰ˆæœ¬å·ç®¡ç†**
   - éµå¾ª Semantic Versioning (semver) è§„èŒƒ
   - ä¸»ç‰ˆæœ¬å·ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
   - æ¬¡ç‰ˆæœ¬å·ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
   - ä¿®è®¢ç‰ˆæœ¬å·ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

### Commit Message è§„èŒƒ

**å¿…é¡»ä½¿ç”¨è‹±æ–‡ç¼–å†™ commit message**

#### æ ¼å¼è¦æ±‚
```
<type>(<scope>): <description>

[optional body]

[optional footer(s)]
```

#### Type ç±»å‹
- **feat**: æ–°åŠŸèƒ½
- **fix**: ä¿®å¤é—®é¢˜
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼ä¿®æ”¹ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- **refactor**: ä»£ç é‡æ„
- **test**: æµ‹è¯•ç›¸å…³ä¿®æ”¹
- **chore**: æ„å»ºæˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

#### Scope èŒƒå›´ï¼ˆå¯é€‰ï¼‰
- æŒ‡æ˜å½±å“èŒƒå›´ï¼Œå¦‚ï¼šconfig, templates, cli, docs, readme
- ç¤ºä¾‹ï¼š`feat(config): add global configuration support`

#### Description æè¿°
- ç®€çŸ­æè¿°ï¼Œä½¿ç”¨ç°åœ¨æ—¶æ€
- é¦–å­—æ¯å°å†™ï¼Œä¸åŠ å¥å·
- ç¤ºä¾‹ï¼š`add global configuration file auto-creation`

#### ç¤ºä¾‹
```
feat(config): add global configuration file auto-creation
- Add automatic config file creation at ~/.claude-code-mailer/.env
- Implement smart project detection for project-level configs
- Update configuration priority system

fix(cli): resolve hook detection issue
- Fix uninstall logic to detect both old and new hook formats
- Update detection regex to include claude-code-mailer commands
- Add backward compatibility for existing installations

docs(readme): update quick start guide
- Add npm installation instructions
- Update configuration examples
- Improve getting started section
```

### CHANGELOG.md ç»´æŠ¤
- ä½¿ç”¨ Keep a Changelog æ ¼å¼
- æ¯ä¸ªç‰ˆæœ¬æŒ‰ç±»å‹åˆ†ç»„ä¿®æ”¹å†…å®¹
- åŒ…å«é“¾æ¥åˆ°å¯¹åº”çš„ç‰ˆæœ¬å·
- æ–°ç‰ˆæœ¬å‘å¸ƒæ—¶å¿…é¡»æ›´æ–°

## æ—¥æœŸæ ‡å‡†

### æ–‡æ¡£æ—¥æœŸè§„èŒƒ
é¡¹ç›®ä¸­çš„æ‰€æœ‰æ—¥æœŸå¿…é¡»éµå¾ªä»¥ä¸‹æ ‡å‡†ï¼š

### æ—¥æœŸæ ¼å¼è¦æ±‚
- **ä½¿ç”¨ ISO 8601 æ ¼å¼**: `YYYY-MM-DD`
- **å‚è€ƒæ¥æº**: ä»¥å½“å‰æ—¥æœŸå’Œ Git æäº¤è®°å½•ä¸­çš„æ—¥æœŸä¸ºå‡†
- **æ—¶åŒº**: ä½¿ç”¨ UTC+8 (åŒ—äº¬æ—¶é—´) ä½œä¸ºé¡¹ç›®æ ‡å‡†æ—¶åŒº

### å…·ä½“åº”ç”¨åœºæ™¯

#### CHANGELOG.md
- ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸä½¿ç”¨ Git æäº¤çš„æ—¥æœŸ
- æ ¼å¼: `## [1.2.1] - 2025-09-29`
- æ—¥æœŸæ¥æº: `git log --oneline --format="%ad" --date=short`

#### æ–‡æ¡£æ›´æ–°
- README.md å’Œ README.zh.md ä¸­çš„æ›´æ–°æ—¥æœŸä½¿ç”¨å½“å‰æ—¥æœŸ
- è®¸å¯è¯å¹´ä»½ä½¿ç”¨å½“å‰å¹´ä»½
- ç¤ºä¾‹: `Copyright (c) 2025 Claude Code Mailer`

#### Commit Message æ—¥æœŸ
- Git è‡ªåŠ¨ç®¡ç†æäº¤æ—¥æœŸ
- æ ¼å¼: `Mon Sep 29 20:57:42 2025 +0800`
- ä¸éœ€è¦æ‰‹åŠ¨åœ¨ commit message ä¸­åŒ…å«æ—¥æœŸ

### æ—¥æœŸæ£€æŸ¥æ¸…å•
- [ ] CHANGELOG.md ä¸­çš„ç‰ˆæœ¬æ—¥æœŸä¸ Git æäº¤æ—¥æœŸä¸€è‡´
- [ ] LICENSE æ–‡ä»¶ä¸­çš„ç‰ˆæƒå¹´ä»½ä¸ºå½“å‰å¹´ä»½
- [ ] æ–‡æ¡£æ›´æ–°æ—¥æœŸä½¿ç”¨æ­£ç¡®çš„ ISO æ ¼å¼
- [ ] æ‰€æœ‰æ—¥æœŸå¼•ç”¨ä½¿ç”¨é¡¹ç›®æ ‡å‡†æ—¶åŒº (UTC+8)

### è‡ªåŠ¨åŒ–æ—¥æœŸç®¡ç†
é¡¹ç›®é¼“åŠ±ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–æ—¥æœŸç®¡ç†ï¼š
```bash
# è·å–å½“å‰æ—¥æœŸ (ISO 8601 æ ¼å¼)
date +%Y-%m-%d

# è·å– Git æäº¤æ—¥æœŸ
git log --oneline --format="%ad" --date=short | head -1

# è·å–å½“å‰å¹´ä»½
date +%Y
```

### æ—¥æœŸä¸€è‡´æ€§éªŒè¯
åœ¨å‘å¸ƒæ–°ç‰ˆæœ¬å‰ï¼ŒéªŒè¯æ‰€æœ‰æ—¥æœŸçš„ä¸€è‡´æ€§ï¼š
- CHANGELOG.md ç‰ˆæœ¬æ—¥æœŸä¸ Git å†å²åŒ¹é…
- ç‰ˆæƒå¹´ä»½ä¸ºå½“å‰å¹´ä»½
- æ–‡æ¡£æ›´æ–°æ—¥æœŸåˆç†ä¸”ä¸€è‡´